(function(i){var c={},d=i.makeMap,h=i.each;function g(k,j){return k.split(j||",")}function a(n,m){var k,l={};function j(o){return o.replace(/[A-Z]+/g,function(p){return j(n[p])})}for(k in n){if(n.hasOwnProperty(k)){n[k]=j(n[k])}}j(m).replace(/#/g,"#text").replace(/(\w+)\[([^\]]+)\]\[([^\]]*)\]/g,function(r,p,o,q){o=g(o,"|");l[p]={attributes:d(o),attributesOrder:o,children:d(q,"|",{"#comment":{}})}});return l}function e(){var j=c.html5;if(!j){j=c.html5=a({A:"accesskey|class|contextmenu|dir|draggable|dropzone|hidden|id|inert|itemid|itemprop|itemref|itemscope|itemtype|lang|spellcheck|style|tabindex|title|translate|item|role|subject|onclick|ondblclick|onmousedown|onmouseup|onmouseover|onmousemove|onmouseout|onkeypress|onkeydown|onkeyup",B:"#|a|abbr|area|audio|b|bdi|bdo|br|button|canvas|cite|code|command|data|datalist|del|dfn|em|embed|i|iframe|img|input|ins|kbd|keygen|label|link|map|mark|math|meta|meter|noscript|object|output|progress|q|ruby|s|samp|script|select|small|span|strong|sub|sup|svg|textarea|time|u|var|video|wbr",C:"#|a|abbr|area|address|article|aside|audio|b|bdi|bdo|blockquote|br|button|canvas|cite|code|command|data|datalist|del|details|dfn|dialog|div|dl|em|embed|fieldset|figure|footer|form|h1|h2|h3|h4|h5|h6|header|hgroup|hr|i|iframe|img|input|ins|kbd|keygen|label|link|map|mark|math|menu|meta|meter|nav|noscript|ol|object|output|p|pre|progress|q|ruby|s|samp|script|section|select|small|span|strong|style|sub|sup|svg|table|textarea|time|u|ul|var|video|wbr"},"html[A|manifest][body|head]head[A][base|command|link|meta|noscript|script|style|title]title[A][#]base[A|href|target][]link[A|href|rel|media|type|sizes|crossorigin|hreflang][]meta[A|http-equiv|name|content|charset][]style[A|type|media|scoped][#]script[A|charset|type|src|defer|async|crossorigin][#]noscript[A][C]body[A|onafterprint|onbeforeprint|onbeforeunload|onblur|onerror|onfocus|onfullscreenchange|onfullscreenerror|onhashchange|onload|onmessage|onoffline|ononline|onpagehide|onpageshow|onpopstate|onresize|onscroll|onstorage|onunload][C]section[A][C]nav[A][C]article[A][C]aside[A][C]h1[A][B]h2[A][B]h3[A][B]h4[A][B]h5[A][B]h6[A][B]hgroup[A][h1|h2|h3|h4|h5|h6]header[A][C]footer[A][C]address[A][C]p[A][B]br[A][]pre[A][B]dialog[A|open][C|dd|dt]blockquote[A|cite][C]ol[A|start|reversed][li]ul[A][li]li[A|value][C]dl[A][dd|dt]dt[A][C|B]dd[A][C]a[A|href|target|download|ping|rel|media|type][B]em[A][B]strong[A][B]small[A][B]s[A][B]cite[A][B]q[A|cite][B]dfn[A][B]abbr[A][B]code[A][B]var[A][B]samp[A][B]kbd[A][B]sub[A][B]sup[A][B]i[A][B]b[A][B]u[A][B]mark[A][B]progress[A|value|max][B]meter[A|value|min|max|low|high|optimum][B]time[A|datetime][B]ruby[A][B|rt|rp]rt[A][B]rp[A][B]bdi[A][B]bdo[A][B]span[A][B]ins[A|cite|datetime][C|B]del[A|cite|datetime][C|B]figure[A][C|legend|figcaption]figcaption[A][C]img[A|alt|src|srcset|crossorigin|usemap|ismap|width|height][]iframe[A|name|src|srcdoc|height|width|sandbox|seamless|allowfullscreen][C|B]embed[A|src|height|width|type][]object[A|data|type|typemustmatch|name|usemap|form|width|height][C|B|param]param[A|name|value][]summary[A][B]details[A|open][C|legend|summary]command[A|type|label|icon|disabled|checked|radiogroup|command][]menu[A|type|label][C|li]legend[A][C|B]div[A][C]source[A|src|type|media][]track[A|kind|src|srclang|label|default][]audio[A|src|autobuffer|autoplay|loop|controls|crossorigin|preload|mediagroup|muted][C|source|track]video[A|src|autobuffer|autoplay|loop|controls|width|height|poster|crossorigin|preload|mediagroup|muted][C|source|track]hr[A][]form[A|accept-charset|action|autocomplete|enctype|method|name|novalidate|target][C]fieldset[A|disabled|form|name][C|legend]label[A|form|for][B]input[A|type|accept|alt|autocomplete|autofocus|checked|dirname|disabled|form|formaction|formenctype|formmethod|formnovalidate|formtarget|height|inputmode|list|max|maxlength|min|multiple|name|pattern|placeholder|readonly|required|size|src|step|value|width|files][]button[A|autofocus|disabled|form|formaction|formenctype|formmethod|formnovalidate|formtarget|name|type|value][B]select[A|autofocus|disabled|form|multiple|name|required|size][option|optgroup]data[A|value][B]datalist[A][B|option]optgroup[A|disabled|label][option]option[A|disabled|selected|label|value][#]textarea[A|autocomplete|autofocus|cols|dirname|disabled|form|inputmode|maxlength|name|placeholder|readonly|required|rows|wrap][#]keygen[A|autofocus|challenge|disabled|form|keytype|name][]output[A|for|form|name][B]canvas[A|width|height][a|button|input]map[A|name][C|B]area[A|alt|coords|shape|href|target|download|ping|rel|media|hreflang|type][]math[A][]svg[A][]table[A][caption|colgroup|thead|tfoot|tbody|tr]caption[A][C]colgroup[A|span][col]col[A|span][]thead[A][tr]tfoot[A][tr]tbody[A][tr]tr[A][th|td]th[A|headers|rowspan|colspan|scope][C]td[A|headers|rowspan|colspan][C]wbr[A][]")}return j}function f(){var j=c.html4;if(!j){j=c.html4=a({Z:"H|K|N|O|P",Y:"X|form|R|Q",ZG:"E|span|width|align|char|charoff|valign",X:"p|T|div|U|W|isindex|fieldset|table",ZF:"E|align|char|charoff|valign",W:"pre|hr|blockquote|address|center|noframes",ZE:"abbr|axis|headers|scope|rowspan|colspan|align|char|charoff|valign|nowrap|bgcolor|width|height",ZD:"[E][S]",U:"ul|ol|dl|menu|dir",ZC:"p|Y|div|U|W|table|br|span|bdo|object|applet|img|map|K|N|Q",T:"h1|h2|h3|h4|h5|h6",ZB:"X|S|Q",S:"R|P",ZA:"a|G|J|M|O|P",R:"a|H|K|N|O",Q:"noscript|P",P:"ins|del|script",O:"input|select|textarea|label|button",N:"M|L",M:"em|strong|dfn|code|q|samp|kbd|var|cite|abbr|acronym",L:"sub|sup",K:"J|I",J:"tt|i|b|u|s|strike",I:"big|small|font|basefont",H:"G|F",G:"br|span|bdo",F:"object|applet|img|map|iframe",E:"A|B|C",D:"accesskey|tabindex|onfocus|onblur",C:"onclick|ondblclick|onmousedown|onmouseup|onmouseover|onmousemove|onmouseout|onkeypress|onkeydown|onkeyup",B:"lang|xml:lang|dir",A:"id|class|style|title"},"script[id|charset|type|language|src|defer|xml:space][]style[B|id|type|media|title|xml:space][]object[E|declare|classid|codebase|data|type|codetype|archive|standby|width|height|usemap|name|tabindex|align|border|hspace|vspace][#|param|Y]param[id|name|value|valuetype|type][]p[E|align][#|S]a[E|D|charset|type|name|href|hreflang|rel|rev|shape|coords|target][#|Z]br[A|clear][]span[E][#|S]bdo[A|C|B][#|S]applet[A|codebase|archive|code|object|alt|name|width|height|align|hspace|vspace][#|param|Y]h1[E|align][#|S]img[E|src|alt|name|longdesc|width|height|usemap|ismap|align|border|hspace|vspace][]map[B|C|A|name][X|form|Q|area]h2[E|align][#|S]iframe[A|longdesc|name|src|frameborder|marginwidth|marginheight|scrolling|align|width|height][#|Y]h3[E|align][#|S]tt[E][#|S]i[E][#|S]b[E][#|S]u[E][#|S]s[E][#|S]strike[E][#|S]big[E][#|S]small[E][#|S]font[A|B|size|color|face][#|S]basefont[id|size|color|face][]em[E][#|S]strong[E][#|S]dfn[E][#|S]code[E][#|S]q[E|cite][#|S]samp[E][#|S]kbd[E][#|S]var[E][#|S]cite[E][#|S]abbr[E][#|S]acronym[E][#|S]sub[E][#|S]sup[E][#|S]input[E|D|type|name|value|checked|disabled|readonly|size|maxlength|src|alt|usemap|onselect|onchange|accept|align][]select[E|name|size|multiple|disabled|tabindex|onfocus|onblur|onchange][optgroup|option]optgroup[E|disabled|label][option]option[E|selected|disabled|label|value][]textarea[E|D|name|rows|cols|disabled|readonly|onselect|onchange][]label[E|for|accesskey|onfocus|onblur][#|S]button[E|D|name|value|type|disabled][#|p|T|div|U|W|table|G|object|applet|img|map|K|N|Q]h4[E|align][#|S]ins[E|cite|datetime][#|Y]h5[E|align][#|S]del[E|cite|datetime][#|Y]h6[E|align][#|S]div[E|align][#|Y]ul[E|type|compact][li]li[E|type|value][#|Y]ol[E|type|compact|start][li]dl[E|compact][dt|dd]dt[E][#|S]dd[E][#|Y]menu[E|compact][li]dir[E|compact][li]pre[E|width|xml:space][#|ZA]hr[E|align|noshade|size|width][]blockquote[E|cite][#|Y]address[E][#|S|p]center[E][#|Y]noframes[E][#|Y]isindex[A|B|prompt][]fieldset[E][#|legend|Y]legend[E|accesskey|align][#|S]table[E|summary|width|border|frame|rules|cellspacing|cellpadding|align|bgcolor][caption|col|colgroup|thead|tfoot|tbody|tr]caption[E|align][#|S]col[ZG][]colgroup[ZG][col]thead[ZF][tr]tr[ZF|bgcolor][th|td]th[E|ZE][#|Y]form[E|action|method|name|enctype|onsubmit|onreset|accept|accept-charset|target][#|X|R|Q]noscript[E][#|Y]td[E|ZE][#|Y]tfoot[ZF][tr]tbody[ZF][tr]area[E|D|shape|coords|href|nohref|alt|target][]base[id|href|target][]body[E|onload|onunload|background|bgcolor|text|link|vlink|alink][#|Y]")}return j}function b(){var j=c,k,l;if(c.sane){return c.sane}c={};k=e();l=f();c=j;h(l,function(o,m){var n=k[m],p=[];if(!n){k[m]=o;return}h(o.attributes,function(r,q){if(!n.attributes[q]){n.attributes[q]=r}});h(o.attributesOrder,function(q){if(-1===i.inArray(n.attributesOrder,q)){p.push(q)}});n.attributesOrder=n.attributesOrder.concat(p);h(o.children,function(r,q){if(!n.children[q]){n.children[q]=r}})});return c.sane=k}i.html.Schema=function(A){var v=this,t={},l={},k=[],D,y;var p,r,z,s,w,o,q={};function n(F,E,H){var G=A[F];if(!G){G=c[F];if(!G){G=d(E," ",d(E.toUpperCase()," "));G=i.extend(G,H);c[F]=G}}else{G=d(G,",",d(G.toUpperCase()," "))}return G}A=A||{};y=A.schema=="html5"?b():f();if(A.verify_html===false){A.valid_elements="*[*]"}if(A.valid_styles){D={};h(A.valid_styles,function(F,E){D[E]=i.explode(F)})}p=n("whitespace_elements","pre script noscript style textarea");r=n("self_closing_elements","colgroup dd dt li option p td tfoot th thead tr");z=n("short_ended_elements","area base basefont br col frame hr img input isindex link meta param embed source wbr");s=n("boolean_attributes","checked compact declare defer disabled ismap multiple nohref noresize noshade nowrap readonly selected autoplay loop controls");o=n("non_empty_elements","td th iframe video audio object",z);textBlockElementsMap=n("text_block_elements","h1 h2 h3 h4 h5 h6 p div address pre form blockquote center dir fieldset header footer article section hgroup aside nav figure");w=n("block_elements","hr table tbody thead tfoot th tr td li ol ul caption dl dt dd noscript menu isindex option datalist select optgroup",textBlockElementsMap);function j(E){return new RegExp("^"+E.replace(/([?+*])/g,".$1")+"$")}function C(L){var K,G,Z,V,aa,F,I,U,X,Q,Y,ac,O,J,W,E,S,H,ab,ad,P,T,N=/^([#+\-])?([^\[\/]+)(?:\/([^\[]+))?(?:\[([^\]]+)\])?$/,R=/^([!\-])?(\w+::\w+|[^=:<]+)?(?:([=:<])(.*))?$/,M=/[*?+]/;if(L){L=g(L);if(t["@"]){S=t["@"].attributes;H=t["@"].attributesOrder}for(K=0,G=L.length;K<G;K++){F=N.exec(L[K]);if(F){W=F[1];Q=F[2];E=F[3];X=F[4];O={};J=[];I={attributes:O,attributesOrder:J};if(W==="#"){I.paddEmpty=true}if(W==="-"){I.removeEmpty=true}if(S){for(ad in S){O[ad]=S[ad]}J.push.apply(J,H)}if(X){X=g(X,"|");for(Z=0,V=X.length;Z<V;Z++){F=R.exec(X[Z]);if(F){U={};ac=F[1];Y=F[2].replace(/::/g,":");W=F[3];T=F[4];if(ac==="!"){I.attributesRequired=I.attributesRequired||[];I.attributesRequired.push(Y);U.required=true}if(ac==="-"){delete O[Y];J.splice(i.inArray(J,Y),1);continue}if(W){if(W==="="){I.attributesDefault=I.attributesDefault||[];I.attributesDefault.push({name:Y,value:T});U.defaultValue=T}if(W===":"){I.attributesForced=I.attributesForced||[];I.attributesForced.push({name:Y,value:T});U.forcedValue=T}if(W==="<"){U.validValues=d(T,"?")}}if(M.test(Y)){I.attributePatterns=I.attributePatterns||[];U.pattern=j(Y);I.attributePatterns.push(U)}else{if(!O[Y]){J.push(Y)}O[Y]=U}}}}if(!S&&Q=="@"){S=O;H=J}if(E){I.outputName=Q;t[E]=I}if(M.test(Q)){I.pattern=j(Q);k.push(I)}else{t[Q]=I}}}}}function u(E){t={};k=[];C(E);h(y,function(G,F){l[F]=G.children})}function m(F){var E=/^(~)?(.+)$/;if(F){h(g(F),function(J){var H=E.exec(J),I=H[1]==="~",K=I?"span":"div",G=H[2];l[G]=l[K];q[G]=K;if(!I){w[G.toUpperCase()]={};w[G]={}}if(!t[G]){t[G]=t[K]}h(l,function(L,M){if(L[K]){L[G]=L[K]}})})}}function x(F){var E=/^([+\-]?)(\w+)\[([^\]]+)\]$/;if(F){h(g(F),function(J){var I=E.exec(J),G,H;if(I){H=I[1];if(H){G=l[I[2]]}else{G=l[I[2]]={"#comment":{}}}G=l[I[2]];h(g(I[3],"|"),function(K){if(H==="-"){delete G[K]}else{G[K]={}}})}})}}function B(E){var G=t[E],F;if(G){return G}F=k.length;while(F--){G=k[F];if(G.pattern.test(E)){return G}}}if(!A.valid_elements){h(y,function(F,E){t[E]={attributes:F.attributes,attributesOrder:F.attributesOrder};l[E]=F.children});if(A.schema!="html5"){h(g("strong/b,em/i"),function(E){E=g(E,"/");t[E[1]].outputName=E[0]})}t.img.attributesDefault=[{name:"alt",value:""}];h(g("ol,ul,sub,sup,blockquote,span,font,a,table,tbody,tr"),function(E){if(t[E]){t[E].removeEmpty=true}});h(g("p,h1,h2,h3,h4,h5,h6,th,td,pre,div,address,caption"),function(E){t[E].paddEmpty=true})}else{u(A.valid_elements)}m(A.custom_elements);x(A.valid_children);C(A.extended_valid_elements);x("+ol[ul|ol],+ul[ul|ol]");if(A.invalid_elements){i.each(i.explode(A.invalid_elements),function(E){if(t[E]){delete t[E]}})}if(!B("span")){C("span[!data-mce-type|*]")}v.children=l;v.styles=D;v.getBoolAttrs=function(){return s};v.getBlockElements=function(){return w};v.getTextBlockElements=function(){return textBlockElementsMap};v.getShortEndedElements=function(){return z};v.getSelfClosingElements=function(){return r};v.getNonEmptyElements=function(){return o};v.getWhiteSpaceElements=function(){return p};v.isValidChild=function(E,G){var F=l[E];return !!(F&&F[G])};v.isValid=function(F,E){var H,G,I=B(F);if(I){if(E){if(I.attributes[E]){return true}H=I.attributePatterns;if(H){G=H.length;while(G--){if(H[G].pattern.test(F)){return true}}}}else{return true}}return false};v.getElementRule=B;v.getCustomElements=function(){return q};v.addValidElements=C;v.setValidElements=u;v.addCustomElements=m;v.addValidChildren=x;v.elements=t}})(tinymce);